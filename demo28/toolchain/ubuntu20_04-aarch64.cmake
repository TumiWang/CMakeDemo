# 交叉编译
set(CMAKE_SYSTEM_NAME Linux)
set(CMAKE_SYSTEM_PROCESSOR aarch64)
set(TARGET_TRIPLE aarch64-linux-gnueabihf)

# 指定使用Ninja
set(CMAKE_GENERATOR "Ninja" CACHE STRING "")

# 这是我本地环境 aarch64 ubuntu 需要的SDK的位置
set(CMAKE_SYSROOT /sdk/ubuntu20-aarch64)

set(CMAKE_C_FLAGS_INIT "-fuse-ld=lld -Wno-unused-command-line-argument")
set(CMAKE_CXX_FLAGS_INIT "-fuse-ld=lld -Wno-c++11-narrowing  -Wno-unused-command-line-argument")

# 这句很重要 -- 配置 pkg-config 工具的查找目录
set(ENV{PKG_CONFIG_PATH} "${CMAKE_SYSROOT}/usr/share/pkgconfig:${CMAKE_SYSROOT}/usr/lib/pkgconfig:${CMAKE_SYSROOT}/usr/lib/aarch64-linux-gnu/pkgconfig")

set(CMAKE_C_COMPILER clang-19)
set(CMAKE_CXX_COMPILER clang++-19)

set(CMAKE_C_COMPILER_TARGET ${TARGET_TRIPLE})
set(CMAKE_CXX_COMPILER_TARGET ${TARGET_TRIPLE})

# 下面两个是静态库需要的工具
set(CMAKE_AR "llvm-ar-19" CACHE STRING "")
set(CMAKE_RANLIB "llvm-ranlib-19" CACHE STRING "")

# set(CMAKE_RC_COMPILER "llvm-rc-19" CACHE STRING "")

# 下面通常不需要设置
add_compile_definitions(__LINUX__)
set(LINUX ON CACHE BOOL "")